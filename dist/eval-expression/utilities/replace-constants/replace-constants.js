const replaceConstants=e=>{let t=/E|PI|π|TAU|τ|PHI|φ/,s=/^\d+|^[\(\[\{]|^[a-z][a-z]+|^\(|^E|^PI|^π|^TAU|^τ|^PHI|^φ|^ϕ/;for(;t.test(e);){let t=e.match(/E|PI|π|TAU|τ|PHI|φ|ϕ/),a="";switch(t[0]){case"E":a=`${Math.E}`;break;case"PI":case"π":a=`${Math.PI}`;break;case"TAU":case"τ":a=""+2*Math.PI;break;case"PHI":case"φ":case"ϕ":a=""+(1+Math.sqrt(5))/2;break;default:throw new Error(`Unknow function but teste with regex: ${t[0]} in expression: ${e}`)}const n=t.index>0?e[t.index-1]:"";let c=t.index+t[0].length-1;const r=c<e.length-1?e.slice(c+1):"";/[\)\]\}\d]/.test(n)?a=s.test(r)?`*${a}*`:`*${a}`:s.test(r)&&(a=`${a}*`),e=e.slice(0,t.index)+a+e.slice(c+1)}return e};module.exports=replaceConstants;