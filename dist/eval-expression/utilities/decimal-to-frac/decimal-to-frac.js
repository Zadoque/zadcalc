const gcdCalculate=(e,i)=>i?gcdCalculate(i,e%i):e;function decimalToFraction(e){let i=e.toString().length-e.toString().search(/\./),l=Math.pow(10,i),t=Number(e)*l,o=gcdCalculate(t,l);return`${Math.floor(t/o)}/${Math.floor(l/o)}`}const isRepeatingDecimal=e=>{let i=e,l={bool:!1};for(let t=1;t<e.length-1;t++){let o=i[0];if(i.indexOf(o,1)){let e=i.indexOf(o,1);if(1===e&&i[e+1]===o)return l.bool=!0,l.dizim=t-1,l.periodo=e,l;let r=[i.slice(0,e),i.slice(e)],c=r[1].length;if(r[0].slice(0,c)===r[1])return l.bool=!0,l.dizim=t-1,l.periodo=e,l}i=e.slice(t)}return l},handleRepeatingDecimal=(e,i)=>{let l=Number(`${e[0]}${e[1].slice(0,i.dizim)}${e[1].slice(i.dizim,i.dizim+i.periodo)}`);l-=Number(`${e[0]}${e[1].slice(0,i.dizim)}`);let t="";for(let e=0;e<i.periodo;e++)t+="9";for(let e=0;e<i.dizim;e++)t+="0";let o=gcdCalculate(l,Number(t));return o!==Number(t)&&(l/=o,t=""+Number(t)/o),`${l}/${t}`},decimalToFrac=e=>{let i=e.split("."),l="",t=!1;if(/[-+]/.test(i[0][0])?(i[0]=i[0].slice(1),t=!0):(t=!0,e=`+${e}`),i[1].length>=3){let e=isRepeatingDecimal(i[1]);l=e.bool?handleRepeatingDecimal(i,e):decimalToFraction(`${i[0]}${i[1]}`)}else l=decimalToFraction(`${i[0]}.${i[1]}`);return t&&(l=`${e[0]}${l}`),l};module.exports=decimalToFrac;