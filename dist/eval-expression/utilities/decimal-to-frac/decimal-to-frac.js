const gcdCalculate=(e,i)=>i?gcdCalculate(i,e%i):e;function decimalToFraction(e){let i=e.toString().length-e.toString().search(/\./),l=Math.pow(10,i),t=Math.round(Number(e)*l),r=gcdCalculate(t,l);return`${Math.floor(t/r)}/${Math.floor(l/r)}`}const isRepeatingDecimal=e=>{let i=e,l={bool:!1};for(let t=1;t<e.length-1;t++){let r=i[0];if(i.indexOf(r,1)){let e=i.indexOf(r,1);if(1===e&&i[e+1]===r)return l.bool=!0,l.dizim=t-1,l.period=e,l;let o=[i.slice(0,e),i.slice(e)],c=o[1].length;if(o[0].slice(0,c)===o[1])return l.bool=!0,l.dizim=t-1,l.period=e,l}i=e.slice(t)}return l},handleRepeatingDecimal=(e,i)=>{let l=Number(`${e[0]}${e[1].slice(0,i.dizim)}${e[1].slice(i.dizim,i.dizim+i.period)}`);l-=Number(`${e[0]}${e[1].slice(0,i.dizim)}`);let t="";for(let e=0;e<i.period;e++)t+="9";for(let e=0;e<i.dizim;e++)t+="0";let r=gcdCalculate(l,Number(t));return r!==Number(t)&&(l/=r,t=""+Number(t)/r),`${l}/${t}`},decimalToFrac=e=>{let i=e.split("."),l="",t=!1;if(/[-+]/.test(i[0][0])?(i[0]=i[0].slice(1),t=!0):(t=!0,e=`+${e}`),i[1].length>=3){let e=isRepeatingDecimal(i[1]);l=e.bool?handleRepeatingDecimal(i,e):decimalToFraction(`${i[0]}.${i[1]}`)}else l=decimalToFraction(`${i[0]}.${i[1]}`);return t&&(l=`${e[0]}${l}`),l};module.exports=decimalToFrac;